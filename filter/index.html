---
sitemap: false
---

<!DOCTYPE html>
<html>
  <head>
    <title>Add filtering cookie</title>
    <link rel="icon" type="image/png" href="/images/jan-aagaard.png" />
    <link
      rel="stylesheet"
      href="/css/main.css?{{ site.time | date: '%s%N' }}"
    />
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>User Category</h1>
      <p>
        This browser's user category is <span id="userCategory">unknown</span>.
      </p>
      <p>
        <button
          class="btn btn-secondary"
          onclick="setUserCategory('Anonymous')"
        >
          Set to Anonymous
        </button>
        <button
          class="btn btn-secondary"
          onclick="setUserCategory('Administrator')"
        >
          Set to Administrator
        </button>
      </p>
      <p class="mt-5"><a href="/">Main page</a></p>
    </div>
    <script>
      function getUserCategory() {
        const userCategory = Cookies.get("UserCategory")
        if (userCategory == null) {
          return "Anonymous"
        }
        return userCategory
      }

      function setUserCategory(userCategory) {
        if (userCategory === "Anonymous") {
          Cookies.remove("UserCategory")
        } else {
          Cookies.set("UserCategory", userCategory, { expires: 10 * 365 })
        }

        window.location.reload(true)
      }

      function updateDisplayedCategory() {
        document.getElementById(
          "userCategory"
        ).innerText = `'${getUserCategory()}'`
      }

      updateDisplayedCategory()
    </script>
  </body>
</html>
